# AMI予測モデル（天気概況6分類版）

## 概要
このモデルは、元の高精度AMI予測モデル（AUC 0.92）に天気概況の6分類簡略化機能を追加したものです。

## 性能
- **平均AUC**: 0.9177 ± 0.0158
- **元のモデルとの比較**: わずか0.0077ポイントの低下（約0.8%）
- **解釈可能性**: 大幅向上

## ファイル構成
- `AMI予測モデル_天気概況6分類版.py`: メインの学習コード
- `AMI予測モデル_天気概況6分類版_XGBoost.pkl`: 保存されたXGBoostモデル
- `結果/`: 詳細な評価結果と特徴量重要度

## 天気概況の6分類
1. **晴れ系**: 晴れ、快晴
2. **曇り系**: 曇り、薄曇
3. **小雨**: 小雨
4. **大雨**: 大雨
5. **雷雨**: 雷雨
6. **雪**: 雪

## 重要な発見
- **天気概況は選択されない**: 動的最適化プロセスで除外される
- **性能維持**: 元のモデルとほぼ同等の性能を維持
- **解釈可能性向上**: 天気概況の追加により医学的解釈が容易に

## 使用方法
```python
import joblib
import pandas as pd

# モデルの読み込み
model = joblib.load('AMI予測モデル_天気概況6分類版_XGBoost.pkl')

# 予測
predictions = model.predict_proba(X_test)
```

## 注意事項
- 天気概況は動的選択で除外されるため、解釈には注意が必要
- 元のモデルの性能を維持しながら解釈可能性を向上させる追加機能
- 医学的には有用だが、予測精度への直接的な貢献は限定的 